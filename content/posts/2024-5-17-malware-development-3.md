+++
title = "Red Teamer's Guide to Malware Development 3"
date = 2024-05-17T11:14:54-05:00
draft = true
+++

> Disclaimer: This article is for educational purposes only. It is not advice.

This is a guide for malware development. Nowadays, there are lots of paid courses that cover these same concepts, but fortunately for everyone, these not necessary to get up to speed. Most of the techniques these courses cover are open source.

This is the first entry in a series that will cover everything needed to get up to speed for more advanced studies in malware development. This is a field that is both deep and broad. Important concepts in malware development involve topics in operating system architecture, low level programming, binary exploitation, and reverse engineering. Malware development is a very intense subject once you get past the intermediate level.

This course will focus on Windows X86_64 malware.

The following topics will be covered in this entry:

- The PE file structure

#### Previous Entries

- [Part 0 (index)](/posts/2024-5-16-malware-development-1/)
- [Part 1](/posts/2024-5-16-malware-development-1/)
- [Part 2](/posts/2024-5-17-malware-development-2/)

## The PE File Format

We've already talked about EXEs and DLLs in [Part 2](/posts/2024-5-17-malware-development-2/). This entry dives into the *file format* that these files use -- the PE or Portable Executable file format.

**What is a file format?**

A file format is a standard way of encoding information for storage in a computer file. It specifies how data is stored, organized, and manipulated. Different file types can be more or less structured. A (nearly) completely unstructured file type would be a text file. On the other end, file formats like PE are much more rigid and well defined.

A file format can be thought of as a data structure. In C, you might see a data structure like this:

```C
struct Person {
    char    name[100];
    int     aage;
    float   height;
    char    gender;
    char    address[200];
};
```

In memory, the data of an instance of the structure would be a contiguous block. Each member of the struct would occupy a specific amount of space in the block. The values `100` and `200` next to the char fields occupy those numbers of bytes. Integers and floats